module as simple;

task as sample_task: {
    let (pre_var: var) from block with (runner: sh) as pre: {
        let (var: stdout) from run with (silent): echo "pre";
        run: echo dyn_$var;
    };
    block as exec: {
        run: ls -al;
    };
    call as post: other_task.post;
};

collection as test: {
    task as sample_task: {
        run as exec: ls -al;
    };
};
